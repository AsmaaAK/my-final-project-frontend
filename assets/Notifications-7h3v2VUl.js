import{r as p,d as v,c as n,a as e,e as S,F as h,g as k,o as l,f as u,t as r}from"./index-Cq7-52dv.js";const x={class:"p-6"},b={key:0,class:"text-gray-500"},N={class:"text-sm text-gray-500 mt-1"},I={__name:"Notifications",setup(y){const o=p([]);v(()=>{const i=JSON.parse(localStorage.getItem("notifications")||"[]");if(i.length){o.value=i;return}const t=JSON.parse(localStorage.getItem("volunteers")||"[]"),s=JSON.parse(localStorage.getItem("events")||"[]"),a=[];s.forEach(c=>{t.forEach(d=>{const g=c.requiredSkills.filter(m=>d.skills.includes(m));d.location===c.location&&g.length>0&&a.push({volunteer:d,event:c,sharedSkills:g})})}),o.value=a,localStorage.setItem("notifications",JSON.stringify(a))});const f=()=>{o.value=[],localStorage.removeItem("notifications")};return(i,t)=>(l(),n("div",x,[t[3]||(t[3]=e("h1",{class:"text-2xl font-bold mb-6"},"الإشعارات",-1)),e("div",{class:"mb-4"},[e("button",{onClick:f,class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"}," 🧹 مسح الإشعارات ")]),o.value.length===0?(l(),n("div",b,"لا توجد إشعارات حالياً.")):S("",!0),(l(!0),n(h,null,k(o.value,(s,a)=>(l(),n("div",{key:a,class:"bg-white dark:bg-gray-800 p-4 mb-4 rounded shadow"},[e("p",null,[t[0]||(t[0]=u("🔔 تم إيجاد مطابقة بين ",-1)),e("strong",null,r(s.volunteer.name),1),t[1]||(t[1]=u(" و ",-1)),e("strong",null,r(s.event.title),1),t[2]||(t[2]=u(".",-1))]),e("p",N,"📍 "+r(s.volunteer.location)+" | المهارات: "+r(s.sharedSkills.join(", ")),1)]))),128))]))}};export{I as default};
