import{r as b,d as x,c as r,a as s,e as S,F as k,g as N,o as i,f as d,t as c}from"./index-C_DbhGOW.js";const y={class:"p-6"},w={key:0,class:"text-gray-500"},_={class:"text-sm text-gray-500 mt-1"},J={__name:"Notifications",setup(I){const o=b([]);function v(n,t){return t.some(e=>e.volunteer.id===n.volunteer.id&&e.event.id===n.event.id)}const f=()=>{const n=JSON.parse(localStorage.getItem("notifications")||"[]");o.value=n},p=()=>{localStorage.setItem("notifications",JSON.stringify(o.value))},h=()=>{const n=JSON.parse(localStorage.getItem("volunteers")||"[]"),t=JSON.parse(localStorage.getItem("events")||"[]"),e=[];t.forEach(a=>{n.forEach(u=>{const g=a.requiredSkills.filter(l=>u.skills.includes(l));if(u.location===a.location&&g.length>0){const l={volunteer:u,event:a,sharedSkills:g};v(l,o.value)||e.push(l)}})}),e.length>0&&(o.value.push(...e),p())};x(()=>{f()});const m=()=>{o.value=[],localStorage.removeItem("notifications")};return(n,t)=>(i(),r("div",y,[t[3]||(t[3]=s("h1",{class:"text-2xl font-bold mb-6"},"الإشعارات",-1)),s("div",{class:"mb-4 flex gap-4"},[s("button",{onClick:m,class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"}," 🧹 مسح الإشعارات "),s("button",{onClick:h,class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," 🔄 تحقق من إشعارات جديدة ")]),o.value.length===0?(i(),r("div",w,"لا توجد إشعارات حالياً.")):S("",!0),(i(!0),r(k,null,N(o.value,(e,a)=>(i(),r("div",{key:a,class:"bg-white dark:bg-gray-800 p-4 mb-4 rounded shadow"},[s("p",null,[t[0]||(t[0]=d(" 🔔 تم إيجاد مطابقة بين ",-1)),s("strong",null,c(e.volunteer.name),1),t[1]||(t[1]=d(" و ",-1)),s("strong",null,c(e.event.title),1),t[2]||(t[2]=d(". ",-1))]),s("p",_," 📍 "+c(e.volunteer.location)+" | المهارات: "+c(e.sharedSkills.join(", ")),1)]))),128))]))}};export{J as default};
