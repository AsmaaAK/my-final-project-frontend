import{r as c,d as k,c as n,a as l,e as m,F as y,g as w,b as d,v as i,w as S,o as u,t as r}from"./index-CS1Bt46P.js";const _={class:"p-6"},h={key:0,class:"text-gray-500"},V={class:"flex justify-between items-center mb-2"},C={class:"font-semibold"},E={class:"space-x-2"},N=["onClick"],T=["onClick"],U={key:1,class:"mt-6 bg-gray-100 dark:bg-gray-700 p-4 rounded shadow max-w-xl"},j={__name:"ManageEvents",setup(I){const a=c([]),p=c(!1),s=c({});k(()=>{const o=JSON.parse(localStorage.getItem("events")||"[]");a.value=o});const b=o=>{a.value=a.value.filter(e=>e.id!==o),localStorage.setItem("events",JSON.stringify(a.value))},g=o=>{p.value=!0,s.value={...o,skillsText:o.requiredSkills.join(", ")}},v=()=>{p.value=!1,s.value={}},f=()=>{const o=a.value.findIndex(e=>e.id===s.value.id);o!==-1&&(a.value[o]={...s.value,requiredSkills:s.value.skillsText.split(",").map(e=>e.trim())},localStorage.setItem("events",JSON.stringify(a.value)),v())};return(o,e)=>(u(),n("div",_,[e[7]||(e[7]=l("h1",{class:"text-2xl font-bold mb-4"},"إدارة الفعاليات",-1)),a.value.length===0?(u(),n("div",h,"لا توجد فعاليات مسجلة حالياً")):m("",!0),(u(!0),n(y,null,w(a.value,t=>(u(),n("div",{key:t.id,class:"bg-white dark:bg-gray-800 p-4 mb-4 rounded shadow"},[l("div",V,[l("h2",C,r(t.title),1),l("div",E,[l("button",{onClick:x=>g(t),class:"text-blue-500"},"تعديل",8,N),l("button",{onClick:x=>b(t.id),class:"text-red-500"},"حذف",8,T)])]),l("p",null,"الوصف: "+r(t.description),1),l("p",null,"التاريخ: "+r(t.date),1),l("p",null,"الموقع: "+r(t.location),1),l("p",null,"المهارات المطلوبة: "+r(t.requiredSkills.join(", ")),1)]))),128)),p.value?(u(),n("div",U,[e[6]||(e[6]=l("h3",{class:"text-lg font-bold mb-2"},"تعديل الفعالية",-1)),l("form",{onSubmit:S(f,["prevent"]),class:"space-y-3"},[d(l("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.value.title=t),class:"w-full p-2 rounded border",placeholder:"عنوان الفعالية"},null,512),[[i,s.value.title]]),d(l("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>s.value.description=t),class:"w-full p-2 rounded border",placeholder:"الوصف"},null,512),[[i,s.value.description]]),d(l("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>s.value.date=t),type:"date",class:"w-full p-2 rounded border"},null,512),[[i,s.value.date]]),d(l("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>s.value.location=t),class:"w-full p-2 rounded border",placeholder:"الموقع"},null,512),[[i,s.value.location]]),d(l("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>s.value.skillsText=t),class:"w-full p-2 rounded border",placeholder:"المهارات المطلوبة (بفواصل)"},null,512),[[i,s.value.skillsText]]),e[5]||(e[5]=l("button",{class:"bg-green-600 text-white px-4 py-2 rounded"},"حفظ",-1)),l("button",{type:"button",onClick:v,class:"text-sm text-gray-500 ml-4"},"إلغاء")],32)])):m("",!0)]))}};export{j as default};
